#!/data/data/com.termux/files/usr/bin/bash
# bdstyle - Bangladeshi Termux Customization

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
CYAN='\033[0;36m'
NC='\033[0m'

TERMUX_DIR="$HOME/.termux"

show_help() {
    echo -e "${CYAN}"
    echo "╔══════════════════════════════════╗"
    echo "║       🇧🇩 BD TERMUX STYLE       ║"
    echo "║      Created by Masum Vai       ║"
    echo "╚══════════════════════════════════╝"
    echo -e "${NC}"
    echo -e "${YELLOW}Usage:${NC}"
    echo "  bdstyle colors           - Change colors"
    echo "  bdstyle font             - Change font"
    echo "  bdstyle banner           - Show custom banner"
    echo "  bdstyle reset            - Reset to default"
    echo "  bdstyle current          - Show current style"
}

change_colors() {
    echo -e "${YELLOW}🎨 Available color schemes:${NC}"
    echo -e "1. ${GREEN}Green Bangladesh${NC}"
    echo -e "2. ${RED}Red Traditional${NC}"
    echo -e "3. ${BLUE}Blue Ocean${NC}"
    echo -e "4. ${PURPLE}Purple Royal${NC}"
    echo -e "5. ${CYAN}Cyan Modern${NC}"
    
    read -p "Select scheme (1-5): " choice
    
    case $choice in
        1)
            # Green Bangladesh
            cat > "$TERMUX_DIR/colors.properties" << EOF
# Green Bangladesh Scheme
background=#001100
foreground=#00FF00
cursor=#00FF00
color0=#000000
color1=#FF0000
color2=#00FF00
color3=#FFFF00
color4=#0000FF
color5=#FF00FF
color6=#00FFFF
color7=#BBBBBB
color8=#555555
color9=#FF5555
color10=#55FF55
color11=#FFFF55
color12=#5555FF
color13=#FF55FF
color14=#55FFFF
color15=#FFFFFF
EOF
            echo -e "${GREEN}✅ Green Bangladesh theme applied!${NC}"
            ;;
        2)
            # Red Traditional
            cat > "$TERMUX_DIR/colors.properties" << EOF
# Red Traditional Scheme
background=#110000
foreground=#FF0000
cursor=#FF0000
color0=#000000
color1=#FF0000
color2=#00FF00
color3=#FFFF00
color4=#0000FF
color5=#FF00FF
color6=#00FFFF
color7=#BBBBBB
color8=#555555
color9=#FF5555
color10=#55FF55
color11=#FFFF55
color12=#5555FF
color13=#FF55FF
color14=#55FFFF
color15=#FFFFFF
EOF
            echo -e "${RED}✅ Red Traditional theme applied!${NC}"
            ;;
        3)
            # Blue Ocean
            cat > "$TERMUX_DIR/colors.properties" << EOF
# Blue Ocean Scheme
background=#000011
foreground=#0088FF
cursor=#0088FF
color0=#000000
color1=#FF0000
color2=#00FF00
color3=#FFFF00
color4=#0000FF
color5=#FF00FF
color6=#00FFFF
color7=#BBBBBB
color8=#555555
color9=#FF5555
color10=#55FF55
color11=#FFFF55
color12=#5555FF
color13=#FF55FF
color14=#55FFFF
color15=#FFFFFF
EOF
            echo -e "${BLUE}✅ Blue Ocean theme applied!${NC}"
            ;;
        4)
            # Purple Royal
            cat > "$TERMUX_DIR/colors.properties" << EOF
# Purple Royal Scheme
background=#110011
foreground=#FF00FF
cursor=#FF00FF
color0=#000000
color1=#FF0000
color2=#00FF00
color3=#FFFF00
color4=#0000FF
color5=#FF00FF
color6=#00FFFF
color7=#BBBBBB
color8=#555555
color9=#FF5555
color10=#55FF55
color11=#FFFF55
color12=#5555FF
color13=#FF55FF
color14=#55FFFF
color15=#FFFFFF
EOF
            echo -e "${PURPLE}✅ Purple Royal theme applied!${NC}"
            ;;
        5)
            # Cyan Modern
            cat > "$TERMUX_DIR/colors.properties" << EOF
# Cyan Modern Scheme
background=#001111
foreground=#00FFFF
cursor=#00FFFF
color0=#000000
color1=#FF0000
color2=#00FF00
color3=#FFFF00
color4=#0000FF
color5=#FF00FF
color6=#00FFFF
color7=#BBBBBB
color8=#555555
color9=#FF5555
color10=#55FF55
color11=#FFFF55
color12=#5555FF
color13=#FF55FF
color14=#55FFFF
color15=#FFFFFF
EOF
            echo -e "${CYAN}✅ Cyan Modern theme applied!${NC}"
            ;;
        *)
            echo -e "${RED}❌ Invalid choice${NC}"
            return 1
            ;;
    esac
    
    # Reload Termux style
    termux-reload-settings
    echo -e "${YELLOW}🔄 Settings reloaded!${NC}"
}

show_banner() {
    echo -e "${GREEN}"
    echo "╔══════════════════════════════════════╗"
    echo "║         🇧🇩 BD TERMUX TOOLS         ║"
    echo "║        Created by Masum Vai         ║"
    echo "║           Made in Bangladesh        ║"
    echo "╚══════════════════════════════════════╝"
    echo -e "${NC}"
    echo -e "${CYAN}✨ Welcome to Bangladeshi Termux!${NC}"
    echo -e "${YELLOW}🚀 Type 'bdsys' to see system info${NC}"
    echo -e "${BLUE}💡 Type 'bdpkg' for package management${NC}"
}

reset_style() {
    echo -e "${YELLOW}🔄 Resetting to default style...${NC}"
    rm -f "$TERMUX_DIR/colors.properties"
    rm -f "$TERMUX_DIR/font.ttf"
    termux-reload-settings
    echo -e "${GREEN}✅ Style reset to default!${NC}"
}

show_current() {
    echo -e "${YELLOW}🎨 Current Termux Style:${NC}"
    
    if [ -f "$TERMUX_DIR/colors.properties" ]; then
        echo -e "${GREEN}✅ Custom colors: Enabled${NC}"
        echo "Colors file: $TERMUX_DIR/colors.properties"
    else
        echo -e "${BLUE}ℹ️  Custom colors: Default${NC}"
    fi
    
    if [ -f "$TERMUX_DIR/font.ttf" ]; then
        echo -e "${GREEN}✅ Custom font: Enabled${NC}"
        echo "Font file: $TERMUX_DIR/font.ttf"
    else
        echo -e "${BLUE}ℹ️  Custom font: Default${NC}"
    fi
}

# Main logic
case "$1" in
    colors|color)
        change_colors
        ;;
    font)
        echo -e "${YELLOW}📝 Font customization coming soon...${NC}"
        ;;
    banner)
        show_banner
        ;;
    reset)
        reset_style
        ;;
    current|info)
        show_current
        ;;
    *)
        show_help
        ;;
esac